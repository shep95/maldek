/* Mobile black screen fixes */

/* Force hardware acceleration on all mobile devices */
@media (max-width: 768px) {
  html, body, #root {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
  }

  /* Ensure theme colors are applied immediately */
  body.dark, .dark body {
    background-color: #080808 !important; /* Fallback dark gray */
  }

  body.light, .light body {
    background-color: #fafafa !important; /* Fallback light gray */
  }

  /* Force repaint on theme change */
  body {
    will-change: background-color;
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  body {
    /* Force immediate paint */
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    /* Prevent background rendering issues */
    background-attachment: scroll !important;
  }
}

/* Android WebView fixes */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 1) {
  body {
    /* Force immediate background render */
    background-color: var(--background);
    background-image: none;
  }
}

/* Emergency fallback for black screen */
body:not(.dark):not(.light) {
  background-color: #080808 !important;
  color: #ffffff !important;
}

/* Ensure minimum viable styling loads first */
html {
  background-color: #080808;
}

body {
  background-color: #080808;
  color: #ffffff;
}

/* Override with theme colors when loaded */
.dark {
  background-color: #080808;
}

.light {
  background-color: #fafafa;
  color: #000000;
}